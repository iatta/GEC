<div class="kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid" >
    <div class="row">
        <div class="col-lg-12">
            <div class="kt-portlet">
                <div class="kt-portlet__head">
                    <div class="kt-portlet__head-label">
                        <h3 class="kt-portlet__head-title">
                            {{l('ProjectEmployeeTransactions')}}
                        </h3>
                    </div>
                </div>
                <!--begin::Form-->
                <form class="kt-form kt-form--fit kt-form--label-right"  #userShiftForm="ngForm" novalidate (ngSubmit)="save(userShiftForm)" autocomplete="off">
                    <div class="kt-portlet__body" [busyIf]="loading">

                                <div class="form-group row">
                                    <div class="col-lg-6">
                                        <label for="Project">{{l("Project")}}</label>
                                        <p-dropdown styleClass="form-control" [options]="projectList" [(ngModel)]="selectedProject" name="selectedProject"  #selectedProjectInput="ngModel" placeholder="Select a Project" optionLabel="nameEn" [showClear]="true"></p-dropdown>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-lg-4">
                                        <label for="TimeProfile_StartDate">{{l("StartDate")}}</label>
                                        <input required class="form-control m-input" type="datetime" bsDatepicker  [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY',isAnimated: true }" [(ngModel)]="fromDate._d" id="fromDate" name="fromDate">
                                    </div>
                                    <div class="col-lg-4">
                                        <label for="toDate">{{l("EndDate")}}</label>
                                        <input required class="form-control m-input" type="datetime" bsDatepicker  [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY',isAnimated: true }" [(ngModel)]="toDate._d" id="toDate" name="toDate">
                                    </div>
                                    <div class="col-lg-4" style="margin-top: auto;">
                                        <button class="btn btn-success" (click)="getDate()" >Generate</button>
                                    </div>

                                </div>

                                
                                <br>
                                <br>
                                <div class="row"  >
                                    <div class="col-lg-12">
                                        <div class="row align-items-center">
                                            <!--<Primeng-Datatable-Start>-->
                                            <div class="primeng-datatable-container col-12">
                                                <p-table 
                                                #dt
                                                [(selection)]="selectedTransactions"
                                                styleClass="ui-table-customers"
                                                [value]="data.items"
                                                [responsive]="true"
                                                [paginator]="true"
                                                [rows]="10"
                                                [rowsPerPageOptions]="[10,25,50]">
                                                    <ng-template pTemplate="caption">
                                                        Transactions
                                                    </ng-template>
                                                    <ng-template pTemplate="header">
                                                        <tr>
                                                            <th><p-tableHeaderCheckbox></p-tableHeaderCheckbox></th>
                                                            <th pSortableColumn="userName">Name <p-sortIcon field="userName"></p-sortIcon></th>
                                                            <th pSortableColumn="date">Day <p-sortIcon field="date"></p-sortIcon></th>
                                                            <th>Time</th>
                                                            <th>Type</th>
                                                            <th>Shift</th>
                                                            <th>Time In</th>
                                                            <th>Time Out</th>
                                                            <th>Late</th>
                                                            <th>Actions</th>
                                                        </tr>
                                                    </ng-template>
                                                    <ng-template pTemplate="body" let-getTransactionForViewDto>
                                                        <tr>
                                                            <td>
                                                                <p-tableCheckbox [value]="getTransactionForViewDto"></p-tableCheckbox>
                                                            </td>
                                                            <td>
                                                                {{getTransactionForViewDto.userName}}
                                                            </td>
                                                            <td>
                                                                {{ getTransactionForViewDto.transaction.transaction_Date | momentFormat:'DD/MM/YYYY' }}
                                                            </td>
                                                            <td>
                                                                {{getTransactionForViewDto.transaction.time}}
                                                            </td>
                                                            <td>
                                                                {{getTransactionForViewDto.transaction.keyType == 1 ? 'In' : 'Out'}}
                                                            </td>
                                                            <td>
                                                                {{getTransactionForViewDto.shiftName }}
                                                            </td>
                                                            <td>
                                                                {{getTransactionForViewDto.timeIn | minutesToTime}}
                                                            </td>
                                                            <td>
                                                                {{getTransactionForViewDto.timeOut | minutesToTime}}
                                                            </td>
                                                            <td>
                                                                {{getTransactionForViewDto.transaction.keyType == 1 ? getTransactionForViewDto.attendance_LateIn : getTransactionForViewDto.attendance_EarlyOut  }}
                                                            </td>
                                                            <td>
                                                                <div class="btn-group dropdown" dropdown container="body">
                                                                    <button class="dropdown-toggle btn btn-sm btn-primary" dropdownToggle>
                                                                        <i class="fa fa-cog"></i><span class="caret"></span> {{l("Actions")}}
                                                                    </button>
                                                                        <ul class="dropdown-menu"  *dropdownMenu>
                                                                        <li>
                                                                            <a href="javascript:;">{{l('Approve')}}</a>
                                                                        </li>
                                                                        <li>
                                                                            <a href="javascript:;">{{l('Reject')}}</a>
                                                                        </li>
                                                                        
                                                                    </ul>
                                                                </div>
                                                            </td>
                                                    </tr>
                                                    </ng-template>
                                                </p-table>
                                            </div>
                                        </div>
                                        
                                    </div>
                                </div>
                           
                                            
                    </div>

                    <div class="kt-portlet__foot">
                        <div class="kt-form__actions">
                            <div class="row">
                                <div class="col-lg-6">
                                    <!-- <button type="submit" class="btn btn-primary blue" [buttonBusy]="saving" [busyText]="l('SavingWithThreeDot')"><i class="fa fa-save"></i> <span>{{l("Save")}}</span></button> -->
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                <!--end::Form-->
            </div>

        </div>
    </div>
</div>





